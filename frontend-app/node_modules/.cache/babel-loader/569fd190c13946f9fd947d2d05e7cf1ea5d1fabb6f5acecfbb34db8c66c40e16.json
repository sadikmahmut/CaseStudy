{"ast":null,"code":"import axios from \"axios\";\nexport const validateTokenAndSetUser = (token, setUser, setUserId, history) => {\n  const validateUrl = 'https://localhost:44388/api/Auth/ValidateToken';\n  axios.post(validateUrl, {\n    token\n  }).then(response => {\n    const userData = response.data.user.username;\n    const userId_ = response.data.user.id;\n    // Set the user data\n    setUser(userData);\n    setUserId(userId_);\n    // Redirect to the home page\n    history('/home');\n  }).catch(error => {\n    // Handle token validation errors here (e.g., expired token)\n    // You can redirect to the login page or perform any other action here\n  });\n};","map":{"version":3,"names":["axios","validateTokenAndSetUser","token","setUser","setUserId","history","validateUrl","post","then","response","userData","data","user","username","userId_","id","catch","error"],"sources":["C:/Users/Sadik/Desktop/DemoProject/frontend-app/src/authUtils.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const validateTokenAndSetUser = (token, setUser, setUserId, history) => {\r\n  const validateUrl = 'https://localhost:44388/api/Auth/ValidateToken';\r\n\r\n  axios.post(validateUrl, { token })\r\n    .then((response) => {\r\n      const userData = response.data.user.username;\r\n      const userId_ = response.data.user.id;\r\n      // Set the user data\r\n      setUser(userData);\r\n      setUserId(userId_);\r\n      // Redirect to the home page\r\n      history('/home');\r\n    })\r\n    .catch((error) => {\r\n      // Handle token validation errors here (e.g., expired token)\r\n      // You can redirect to the login page or perform any other action here\r\n    });\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,uBAAuB,GAAGA,CAACC,KAAK,EAAEC,OAAO,EAAEC,SAAS,EAAEC,OAAO,KAAK;EAC7E,MAAMC,WAAW,GAAG,gDAAgD;EAEpEN,KAAK,CAACO,IAAI,CAACD,WAAW,EAAE;IAAEJ;EAAM,CAAC,CAAC,CAC/BM,IAAI,CAAEC,QAAQ,IAAK;IAClB,MAAMC,QAAQ,GAAGD,QAAQ,CAACE,IAAI,CAACC,IAAI,CAACC,QAAQ;IAC5C,MAAMC,OAAO,GAAGL,QAAQ,CAACE,IAAI,CAACC,IAAI,CAACG,EAAE;IACrC;IACAZ,OAAO,CAACO,QAAQ,CAAC;IACjBN,SAAS,CAACU,OAAO,CAAC;IAClB;IACAT,OAAO,CAAC,OAAO,CAAC;EAClB,CAAC,CAAC,CACDW,KAAK,CAAEC,KAAK,IAAK;IAChB;IACA;EAAA,CACD,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}