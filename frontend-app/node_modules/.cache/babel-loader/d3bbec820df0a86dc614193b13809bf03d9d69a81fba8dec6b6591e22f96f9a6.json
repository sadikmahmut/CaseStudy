{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nexport const validateTokenAndSetUser = (token, setUser, setUserId) => {\n  _s();\n  const validateUrl = 'https://localhost:44388/api/Auth/ValidateToken';\n  const history = useNavigate();\n  axios.post(validateUrl, {\n    token\n  }).then(response => {\n    const userData = response.data.user.username;\n    const userId_ = response.data.user.id;\n    // Set the user data\n    setUser(userData);\n    setUserId(userId_);\n    // Redirect to the home page\n    history('/home');\n  }).catch(error => {\n    // Handle token validation errors here (e.g., expired token)\n    // You can redirect to the login page or perform any other action here\n  });\n};\n_s(validateTokenAndSetUser, \"UuBpJaL/77ixlr0CeL0xEoy8mog=\", false, function () {\n  return [useNavigate];\n});","map":{"version":3,"names":["axios","useNavigate","validateTokenAndSetUser","token","setUser","setUserId","_s","validateUrl","history","post","then","response","userData","data","user","username","userId_","id","catch","error"],"sources":["C:/Users/Sadik/Desktop/DemoProject/frontend-app/src/authUtils.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nexport const validateTokenAndSetUser = (token, setUser, setUserId) => {\r\n  const validateUrl = 'https://localhost:44388/api/Auth/ValidateToken';\r\n  const history = useNavigate();\r\n\r\n  axios.post(validateUrl, { token })\r\n    .then((response) => {\r\n      const userData = response.data.user.username;\r\n      const userId_ = response.data.user.id;\r\n      // Set the user data\r\n      setUser(userData);\r\n      setUserId(userId_);\r\n      // Redirect to the home page\r\n      history('/home');\r\n    })\r\n    .catch((error) => {\r\n      // Handle token validation errors here (e.g., expired token)\r\n      // You can redirect to the login page or perform any other action here\r\n    });\r\n};"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAG9C,OAAO,MAAMC,uBAAuB,GAAGA,CAACC,KAAK,EAAEC,OAAO,EAAEC,SAAS,KAAK;EAAAC,EAAA;EACpE,MAAMC,WAAW,GAAG,gDAAgD;EACpE,MAAMC,OAAO,GAAGP,WAAW,CAAC,CAAC;EAE7BD,KAAK,CAACS,IAAI,CAACF,WAAW,EAAE;IAAEJ;EAAM,CAAC,CAAC,CAC/BO,IAAI,CAAEC,QAAQ,IAAK;IAClB,MAAMC,QAAQ,GAAGD,QAAQ,CAACE,IAAI,CAACC,IAAI,CAACC,QAAQ;IAC5C,MAAMC,OAAO,GAAGL,QAAQ,CAACE,IAAI,CAACC,IAAI,CAACG,EAAE;IACrC;IACAb,OAAO,CAACQ,QAAQ,CAAC;IACjBP,SAAS,CAACW,OAAO,CAAC;IAClB;IACAR,OAAO,CAAC,OAAO,CAAC;EAClB,CAAC,CAAC,CACDU,KAAK,CAAEC,KAAK,IAAK;IAChB;IACA;EAAA,CACD,CAAC;AACN,CAAC;AAACb,EAAA,CAlBWJ,uBAAuB;EAAA,QAElBD,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}